# Daily Log · 2025-10-17

## Goals
- Polish preview UX (standard vs immersive), ensure EXIF never overlaps, and make animations smooth.
- Push code under a feature branch without uploading media.
- Prepare for a proper waterfall (masonry) layout implementation.

## Completed
- **Preview (frontend/src/components/PhotoPreview.jsx)**
  - Standard preview: image contains within ~80% viewport (max 95vw/80vh), centered using `object-fit: contain`.
  - EXIF placed in a fixed bottom area (absolute `bottom-4`), guaranteed no overlap with the image.
  - Immersive preview: full-screen contain (100vw/100vh), center both axes; EXIF/toolbar hidden here (toolbar logic to finish later).
  - Animations unified with `ease-in-out` and tuned durations for less wobble.
- **Photos page interim waterfall (frontend/src/pages/Photos/index.jsx)**
  - Temporary: compute spans using actual rendered `offsetHeight` to avoid single-row layout.
  - Next step: replace with fixed-column-width, fixed-gap, min-heap placement by current column heights.
- **Branch & logs**
  - Pushed to `feature/masonry-and-preview`.
  - Added daily logs index `daily-logs/README.md` and this per-day entry.

## Not Done / Deferred
- True min-heap masonry (K columns with running column heights and responsive breakpoints).
- Toolbar visibility logic (show rotate-left/right, share, copy link, close in standard mode only).
- Backend upload-time orientation normalization (server to provide normalized width/height).

## Issues Observed
- Some serverside 500s during testing; resolved by restarting backend.
- Existing grid-row-span approach is fragile; will be superseded by min-heap.

## Next Steps (Priority)
- Implement min-heap masonry with fixed column width/gap, maintain column heights across pagination.
- Finalize preview toolbar visibility and actions in standard mode.
- Coordinate backend orientation normalization and return normalized dimensions.

Updated by: Cascade · 2025-10-17 18:28
