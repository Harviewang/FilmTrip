# FilmTrip 胶片摄影管理系统需求文档

## 📋 文档信息
- **版本**: v2.0 详细版
- **创建日期**: 2025-01-21
- **状态**: 需求收集和细化中
- **最后更新**: 2025-01-21

> 📖 **相关文档**：[数据库设计](./数据库设计.md) | [开发计划](./开发计划.md) | [项目文件整理指南](./项目文件整理指南.md)

## 🎯 项目概述

### 项目定位
FilmTrip是一个专业的胶片摄影管理系统，采用三层清晰结构设计，避免层级过深，保持逻辑简单。系统旨在帮助胶片摄影爱好者管理胶卷、照片、相机和扫描仪等资源。

### 目标用户
- **主要用户**：胶片摄影爱好者、专业摄影师
- **次要用户**：摄影工作室、胶片冲洗店
- **管理员**：系统管理员、内容审核员

### 核心价值
1. **简化管理流程**：一卷胶卷天然就是一个照片集合，无需额外相册概念
2. **完整信息记录**：从胶卷品类到具体照片的完整信息链
3. **专业摄影支持**：支持EXIF信息、地理位置、评分系统等专业功能
4. **灵活权限控制**：支持公开、私密、链接可见等多种可见性设置

## 🏗️ 核心设计理念

### 1. 三层清晰结构
- **胶卷品类 (Film Stock)** → **胶卷实例 (Film Roll)** → **照片 (Photo)**
- 避免层级过深，保持逻辑简单
- 每层职责明确，易于理解和维护

### 2. 继承关系
- 照片继承胶卷实例的所有属性
- 胶卷实例继承胶卷品类的所有属性
- 减少数据冗余，提高数据完整性

### 3. 实际业务导向
- 一卷胶卷天然就是一个照片集合
- 不需要额外的相册概念
- 符合胶片摄影的实际工作流程

> 💡 **技术实现细节**请参考：[数据库设计文档](./数据库设计.md)

## 📖 详细业务场景

### 场景1：新胶卷启封流程

#### 用户故事
作为胶片摄影爱好者，我希望能够记录新胶卷的启封信息，包括胶卷类型、启封时间、拍摄地点等，这样我就能追踪每卷胶卷的使用情况。

#### 详细流程
1. **选择胶卷品类**
   - 从已有胶卷品类中选择（如Kodak Gold 200）
   - 如果没有，可以创建新的胶卷品类
   - 系统自动填充品牌、系列、ISO、规格、类型等基础信息

2. **创建胶卷实例**
   - 输入胶卷编号（如A0001、B0002）
   - 输入胶卷名称（如"8月旅行第一卷"）
   - 选择启封时间
   - 输入拍摄地点（支持GPS坐标和地址）
   - 选择使用的相机
   - 添加备注信息

3. **状态管理**
   - 初始状态：未启封
   - 拍摄过程中：拍摄中
   - 拍摄完成后：已拍摄
   - 冲洗完成后：已冲洗
   - 扫描完成后：已扫描

#### 验收标准
- [ ] 能够从胶卷品类列表中选择或创建新品类
- [ ] 胶卷编号必须唯一，系统自动检查重复
- [ ] 启封时间默认为当前时间，可手动修改
- [ ] 拍摄地点支持GPS坐标输入和地址文本输入
- [ ] 相机选择支持搜索和筛选
- [ ] 状态变更有明确的时间记录

### 场景2：照片上传和管理流程

#### 用户故事
作为摄影师，我希望能够批量上传照片到指定的胶卷实例中，系统自动提取EXIF信息，生成缩略图，并支持照片的详细信息编辑。

#### 详细流程
1. **照片上传**
   - 选择目标胶卷实例
   - 批量选择照片文件（支持拖拽）
   - 系统自动提取EXIF信息
   - 生成多尺寸缩略图
   - 保存到本地存储

2. **信息编辑**
   - 编辑照片标题和描述
   - 修改拍摄日期（如果EXIF信息不准确）
   - 添加地理位置信息
   - 设置照片评分（1-5星）
   - 添加标签
   - 设置可见性（公开/私密/链接可见/受保护）

3. **照片排序**
   - 按拍摄时间排序
   - 按照片编号排序
   - 手动调整顺序
   - 设置胶卷封面照片

#### 验收标准
- [ ] 支持JPG、PNG、TIFF等常见格式
- [ ] 文件大小限制：最大10MB
- [ ] 自动生成256px、1024px、2048px三种尺寸缩略图
- [ ] EXIF信息提取包括：拍摄时间、光圈、快门、ISO、焦距等
- [ ] 支持批量编辑照片信息
- [ ] 照片评分系统：1-5星，支持半星评分
- [ ] 标签系统支持多标签，支持标签搜索和筛选

### 场景3：胶卷浏览和展示流程

#### 用户故事
作为访客，我希望能够浏览公开的胶卷和照片，支持多种视图模式，包括时间轴、地图、胶片视图等，让我能够发现和欣赏优秀的胶片摄影作品。

#### 详细流程
1. **时间轴视图**
   - 按时间倒序显示照片
   - 支持按胶卷聚合显示
   - 支持时间范围筛选
   - 支持标签筛选
   - 懒加载和分页

2. **地图视图**
   - 显示照片的地理位置分布
   - 支持地图缩放和拖动
   - 点聚合显示（避免重叠）
   - 点击聚合点显示照片预览
   - 支持地理范围筛选

3. **胶片视图**
   - 以胶卷为单位展示
   - 显示胶卷封面和基本信息
   - 支持展开查看胶卷内所有照片
   - 支持胶卷搜索和筛选

4. **随机视图**
   - 随机展示照片
   - 支持刷新换一批
   - 支持标签筛选
   - 支持评分筛选

#### 验收标准
- [ ] 时间轴支持照片流和胶卷聚合两种模式
- [ ] 地图使用轻量级底图，支持点聚合
- [ ] 胶片视图支持网格和列表两种显示方式
- [ ] 随机视图支持多种筛选条件
- [ ] 所有视图都支持响应式设计
- [ ] 加载性能：首屏加载时间<2秒

### 场景4：权限控制和隐私保护

#### 用户故事
作为用户，我希望能够灵活控制胶卷和照片的可见性，支持公开分享、私密保存、链接可见等多种权限设置，保护我的隐私同时方便分享。

#### 详细流程
1. **可见性设置**
   - 公开：任何人都可以访问
   - 私密：仅自己可见
   - 链接可见：持有链接的人可以访问
   - 受保护：需要密码才能访问

2. **权限继承**
   - 胶卷级别的可见性设置
   - 照片可以覆盖胶卷的可见性设置
   - 照片级别的可见性优先级更高

3. **访问控制**
   - 公开内容：无需登录即可访问
   - 私密内容：需要登录且是内容所有者
   - 链接可见：验证链接有效性
   - 受保护内容：验证访问密码

#### 验收标准
- [ ] 支持四种可见性级别
- [ ] 权限继承逻辑正确
- [ ] 访问控制严格有效
- [ ] 链接分享功能正常
- [ ] 密码保护功能安全可靠

## 🔧 功能需求详细规格

### 1. 用户管理模块

#### 1.1 用户注册
**功能描述**：新用户创建账户
**输入要求**：
- 用户名：3-20个字符，只能包含字母、数字、下划线
- 密码：8-20个字符，必须包含字母和数字
- 确认密码：必须与密码一致
- 邮箱：有效的邮箱格式

**业务规则**：
- 用户名必须唯一
- 邮箱必须唯一
- 密码强度检查
- 注册成功后自动登录

**验收标准**：
- [ ] 用户名和邮箱唯一性检查
- [ ] 密码强度验证
- [ ] 注册成功后跳转到仪表板
- [ ] 错误信息清晰明确

#### 1.2 用户登录
**功能描述**：用户身份验证
**输入要求**：
- 用户名或邮箱
- 密码

**业务规则**：
- 支持用户名或邮箱登录
- 密码错误3次后锁定账户5分钟
- 登录成功后生成JWT令牌
- 支持"记住我"功能

**验收标准**：
- [ ] 支持用户名和邮箱两种登录方式
- [ ] 密码错误处理正确
- [ ] JWT令牌生成和验证正常
- [ ] 会话管理正确

#### 1.3 用户权限管理
**功能描述**：用户角色和权限控制
**权限级别**：
- 普通用户：管理自己的胶卷和照片
- 管理员：管理所有用户和系统设置

**业务规则**：
- 用户只能编辑自己的内容
- 管理员可以编辑所有内容
- 权限变更需要管理员操作

**验收标准**：
- [ ] 权限检查严格有效
- [ ] 角色切换功能正常
- [ ] 权限变更记录完整

### 2. 胶卷品类管理模块

#### 2.1 胶卷品类创建
**功能描述**：创建新的胶卷品类
**输入要求**：
- 品牌：必填，如Kodak、富士、柯达等
- 系列：必填，如Gold、Provia、Portra等
- ISO：必填，如100、200、400、800等
- 规格：必填，如135mm、120、4x5等
- 类型：必填，如彩色负片、黑白负片、彩色正片等
- 描述：可选，详细说明

**业务规则**：
- 品牌+系列+ISO+规格+类型组合必须唯一
- 支持批量导入胶卷品类
- 支持胶卷品类搜索和筛选

**验收标准**：
- [ ] 必填字段验证正确
- [ ] 唯一性检查有效
- [ ] 搜索和筛选功能正常
- [ ] 批量导入功能正常

#### 2.2 胶卷品类编辑
**功能描述**：修改现有胶卷品类信息
**业务规则**：
- 只能编辑描述等非关键字段
- 品牌、系列、ISO、规格、类型等关键字段不可修改
- 修改记录需要记录操作日志

**验收标准**：
- [ ] 关键字段保护正确
- [ ] 编辑记录完整
- [ ] 操作日志记录正确

### 3. 胶卷实例管理模块

#### 3.1 胶卷实例创建
**功能描述**：基于胶卷品类创建具体胶卷实例
**输入要求**：
- 胶卷品类：必选，从已有品类中选择
- 胶卷编号：必填，如A0001、B0002等
- 胶卷名称：必填，如"8月旅行第一卷"
- 启封时间：可选，默认为当前时间
- 拍摄地点：可选，支持GPS坐标和地址
- 使用相机：可选，从已有相机中选择
- 备注：可选，额外信息

**业务规则**：
- 胶卷编号必须唯一
- 胶卷实例继承胶卷品类的所有属性
- 支持胶卷实例的批量创建

**验收标准**：
- [ ] 胶卷编号唯一性检查
- [ ] 属性继承正确
- [ ] 批量创建功能正常
- [ ] 数据验证完整

#### 3.2 胶卷实例状态管理
**功能描述**：跟踪胶卷实例的生命周期状态
**状态定义**：
- 未启封：刚创建，还未开始使用
- 拍摄中：正在使用拍摄
- 已拍摄：拍摄完成，等待冲洗
- 已冲洗：冲洗完成，等待扫描
- 已扫描：扫描完成，可以查看

**业务规则**：
- 状态只能按顺序变更
- 状态变更需要记录时间
- 支持状态变更的备注说明

**验收标准**：
- [ ] 状态变更顺序正确
- [ ] 时间记录完整
- [ ] 备注功能正常

### 4. 照片管理模块

#### 4.1 照片上传
**功能描述**：上传照片到指定胶卷实例
**输入要求**：
- 目标胶卷：必选，选择要上传到的胶卷实例
- 照片文件：必选，支持JPG、PNG、TIFF等格式
- 照片编号：可选，如1、2、3等，系统可自动分配

**业务规则**：
- 照片必须属于某个胶卷实例
- 照片编号在同一胶卷内必须唯一
- 支持批量上传
- 自动提取EXIF信息
- 自动生成缩略图

**验收标准**：
- [ ] 文件格式支持正确
- [ ] 文件大小限制有效
- [ ] EXIF信息提取准确
- [ ] 缩略图生成正常
- [ ] 批量上传功能正常

#### 4.2 照片信息编辑
**功能描述**：编辑照片的详细信息和元数据
**可编辑字段**：
- 标题：照片标题
- 描述：照片描述
- 拍摄日期：拍摄时间
- 地理位置：GPS坐标和地址
- 评分：1-5星评分
- 标签：多个标签
- 可见性：公开/私密/链接可见/受保护

**业务规则**：
- 照片信息可以随时编辑
- 编辑记录需要保存
- 支持批量编辑

**验收标准**：
- [ ] 所有字段编辑功能正常
- [ ] 编辑记录保存完整
- [ ] 批量编辑功能正常
- [ ] 数据验证正确

### 5. 相机管理模块

#### 5.1 相机信息管理
**功能描述**：管理相机设备信息
**输入要求**：
- 相机名称：必填，如"佳能EOS KISS"
- 相机型号：必填，如"EOS Kiss"
- 品牌：必填，如"Canon"
- 类型：可选，如"单反相机"、"旁轴相机"等
- 支持画幅：可选，如"135mm"、"120"等
- 描述：可选，详细说明
- 相机图片：可选，相机外观图片

**业务规则**：
- 相机名称+型号组合建议唯一
- 支持相机搜索和筛选
- 支持相机分类管理

**验收标准**：
- [ ] 必填字段验证正确
- [ ] 搜索和筛选功能正常
- [ ] 分类管理功能正常
- [ ] 图片上传功能正常

### 6. 扫描仪管理模块

#### 6.1 扫描仪信息管理
**功能描述**：管理扫描仪设备信息
**输入要求**：
- 扫描仪名称：必填，如"爱普生V850"
- 扫描仪型号：必填，如"V850 Pro"
- 类型：可选，如"平板扫描仪"、"胶片扫描仪"等
- 描述：可选，详细说明
- 扫描仪图片：可选，设备外观图片

**业务规则**：
- 扫描仪名称+型号组合建议唯一
- 支持扫描仪搜索和筛选
- 支持扫描仪分类管理

**验收标准**：
- [ ] 必填字段验证正确
- [ ] 搜索和筛选功能正常
- [ ] 分类管理功能正常
- [ ] 图片上传功能正常

### 7. 统计仪表板模块

#### 7.1 数据概览
**功能描述**：显示系统整体数据统计
**显示内容**：
- 胶卷品类总数
- 胶卷实例总数
- 照片总数
- 相机总数
- 扫描仪总数
- 用户总数

**业务规则**：
- 数据实时更新
- 支持时间范围筛选
- 支持数据导出

**验收标准**：
- [ ] 数据统计准确
- [ ] 实时更新正常
- [ ] 筛选功能正常
- [ ] 导出功能正常

#### 7.2 使用统计
**功能描述**：显示系统使用情况统计
**显示内容**：
- 胶卷使用情况（按状态统计）
- 照片上传趋势
- 相机使用频率
- 扫描仪使用频率
- 用户活跃度

**业务规则**：
- 支持图表展示
- 支持时间范围选择
- 支持数据钻取

**验收标准**：
- [ ] 图表展示正确
- [ ] 时间筛选正常
- [ ] 数据钻取功能正常

## 🎨 用户界面需求

### 1. 整体设计原则

#### 1.1 设计风格
- **现代化UI**：简洁、美观、易用
- **一致性**：统一的视觉语言和交互模式
- **专业性**：符合摄影行业的专业感
- **中文优先**：完全中文化，符合国内用户习惯

#### 1.2 响应式设计
- **桌面端**：1920x1080及以上分辨率优化
- **平板端**：768x1024分辨率适配
- **手机端**：375x667及以上分辨率适配
- **触摸友好**：支持触摸操作和手势

### 2. 页面布局要求

#### 2.1 导航结构
- **主导航**：顶部固定导航栏
- **侧边导航**：左侧可折叠的侧边栏
- **面包屑**：显示当前页面位置
- **快速操作**：常用功能的快捷入口

#### 2.2 内容区域
- **主内容区**：页面主要内容显示
- **侧边栏**：辅助信息和操作面板
- **底部区域**：分页、统计信息等

### 3. 具体页面要求

#### 3.1 登录页面
**布局要求**：
- 居中显示登录表单
- 简洁的背景设计
- 清晰的错误提示
- 支持记住密码功能

**交互要求**：
- 表单验证实时反馈
- 登录状态加载提示
- 密码强度指示器

#### 3.2 仪表板页面
**布局要求**：
- 网格布局显示统计卡片
- 图表区域占据主要空间
- 快速操作按钮醒目

**交互要求**：
- 统计卡片支持点击展开
- 图表支持缩放和筛选
- 实时数据更新

#### 3.3 列表页面
**布局要求**：
- 表格形式显示数据
- 支持列排序和筛选
- 分页控件在底部
- 批量操作工具栏

**交互要求**：
- 行选择支持单选和多选
- 列宽可调整
- 支持列显示/隐藏
- 快速搜索功能

#### 3.4 表单页面
**布局要求**：
- 垂直布局的表单字段
- 必填字段标识（红色星号）
- 字段分组和标签
- 操作按钮在底部

**交互要求**：
- 实时表单验证
- 字段间联动
- 自动保存草稿
- 提交确认对话框

### 4. 组件设计要求

#### 4.1 按钮组件
- **主要按钮**：蓝色背景，白色文字
- **次要按钮**：白色背景，蓝色边框
- **危险按钮**：红色背景，白色文字
- **禁用状态**：灰色背景，禁用交互

#### 4.2 输入组件
- **文本输入**：圆角边框，聚焦时高亮
- **下拉选择**：支持搜索和筛选
- **日期选择**：日历弹出式选择器
- **文件上传**：拖拽上传，进度条显示

#### 4.3 表格组件
- **行选择**：复选框选择，支持全选
- **列排序**：点击列头排序，显示排序状态
- **行操作**：每行显示操作按钮
- **分页**：页码导航，每页条数选择

### 5. 交互设计要求

#### 5.1 加载状态
- **页面加载**：全屏加载动画
- **按钮加载**：按钮内显示加载图标
- **表格加载**：骨架屏或加载行
- **图片加载**：渐进式加载，缩略图占位

#### 5.2 反馈机制
- **成功提示**：绿色成功消息，自动消失
- **错误提示**：红色错误消息，手动关闭
- **警告提示**：黄色警告消息，需要确认
- **信息提示**：蓝色信息消息，可关闭

#### 5.3 确认操作
- **删除确认**：确认对话框，显示影响范围
- **批量操作**：确认对话框，显示操作数量
- **重要操作**：二次确认，防止误操作
- **数据提交**：提交确认，显示提交内容

## 📊 性能需求

### 1. 响应时间要求

#### 1.1 页面加载性能
- **首屏加载**：<2秒（桌面端，100Mbps网络）
- **完整加载**：<5秒（包含所有资源）
- **图片加载**：<3秒（单张图片，1MB以内）
- **缩略图加载**：<1秒（256px缩略图）

#### 1.2 操作响应性能
- **按钮点击**：<200ms响应
- **表单提交**：<1秒处理
- **数据查询**：<500ms返回结果
- **文件上传**：<10秒（10MB文件）

### 2. 并发性能要求

#### 2.1 用户并发
- **同时在线用户**：100人
- **并发操作**：50个并发请求
- **峰值处理**：支持200%的峰值负载

#### 2.2 系统资源
- **CPU使用率**：正常负载<70%，峰值<90%
- **内存使用率**：正常负载<80%，峰值<95%
- **磁盘I/O**：支持100MB/s的读写速度

### 3. 存储性能要求

#### 3.1 数据库性能
- **查询响应**：简单查询<100ms，复杂查询<1秒
- **写入性能**：单条记录<50ms，批量写入<500ms
- **索引效率**：支持100万条记录的快速查询

#### 3.2 文件存储性能
- **图片上传**：支持10MB/s的上传速度
- **图片处理**：缩略图生成<2秒
- **文件访问**：图片加载<1秒

## 🔒 安全需求

### 1. 用户认证安全

#### 1.1 密码安全
- **密码策略**：最小8位，包含字母和数字
- **密码加密**：使用bcrypt算法，盐值随机
- **密码历史**：记录最近5次密码，防止重复使用
- **密码过期**：90天强制更换密码

#### 1.2 会话安全
- **JWT令牌**：使用安全的JWT算法
- **令牌过期**：访问令牌1小时，刷新令牌7天
- **令牌刷新**：支持无感知的令牌刷新
- **会话管理**：支持多设备登录，可强制下线

### 2. 数据访问安全

#### 2.1 权限控制
- **角色权限**：基于角色的访问控制（RBAC）
- **数据隔离**：用户只能访问自己的数据
- **操作审计**：记录所有重要操作日志
- **权限验证**：每个API接口都进行权限检查

#### 2.2 数据保护
- **敏感数据**：密码等敏感信息不记录日志
- **数据加密**：支持数据库字段级加密
- **备份安全**：备份文件加密存储
- **传输安全**：HTTPS加密传输

### 3. 系统安全

#### 3.1 输入验证
- **SQL注入防护**：使用参数化查询
- **XSS防护**：输入输出过滤和转义
- **文件上传**：文件类型和大小验证
- **API安全**：请求频率限制和防重放

#### 3.2 系统防护
- **防火墙**：网络层访问控制
- **入侵检测**：异常行为监控
- **日志监控**：安全事件实时监控
- **漏洞修复**：定期安全更新

## 🔄 扩展性需求

### 1. 功能扩展性

#### 1.1 模块化设计
- **插件系统**：支持功能模块的即插即用
- **API扩展**：支持第三方API集成
- **自定义字段**：支持用户自定义数据字段
- **工作流引擎**：支持自定义业务流程

#### 1.2 多租户支持
- **租户隔离**：支持多组织使用
- **权限继承**：支持组织级权限管理
- **数据共享**：支持跨租户数据共享
- **计费系统**：支持按使用量计费

### 2. 性能扩展性

#### 2.1 水平扩展
- **负载均衡**：支持多实例部署
- **数据库分片**：支持数据分片和读写分离
- **缓存集群**：支持Redis集群部署
- **CDN加速**：支持全球CDN部署

#### 2.2 垂直扩展
- **资源扩容**：支持CPU、内存、存储扩容
- **性能调优**：支持数据库和应用程序调优
- **监控告警**：支持性能指标监控和告警
- **自动扩缩容**：支持基于负载的自动扩缩容

### 3. 集成扩展性

#### 3.1 第三方集成
- **云存储**：支持AWS S3、阿里云OSS等
- **身份认证**：支持OAuth2.0、SAML等
- **支付系统**：支持支付宝、微信支付等
- **通知系统**：支持邮件、短信、微信等

#### 3.2 数据导入导出
- **格式支持**：支持CSV、JSON、XML等格式
- **批量操作**：支持大量数据的批量处理
- **数据验证**：支持导入数据的格式验证
- **错误处理**：支持导入错误的详细报告

## 📅 项目时间线

> 📅 **详细开发计划**请参考：[开发计划文档](./开发计划.md)

### 第一阶段：基础架构（已完成）
- ✅ 后端基础架构搭建
- ✅ 数据库设计
- ✅ 用户认证系统

### 第二阶段：核心功能开发（进行中）
- 🔄 胶卷品类管理
- 🔄 胶卷实例管理
- 🔄 照片管理优化
- ⏸️ 相机和扫描仪管理

### 第三阶段：功能完善
- 统计仪表板
- 用户界面优化
- 性能优化

### 第四阶段：测试和部署
- 系统测试
- 性能测试
- 生产环境部署

## ✅ 成功标准

### 1. 功能完整性
- 所有核心功能正常工作
- 用户界面友好易用
- 数据管理准确可靠

### 2. 性能指标
- 响应时间满足要求
- 支持预期并发用户数
- 系统稳定运行

### 3. 用户体验
- 用户操作流程顺畅
- 界面美观易用
- 功能满足用户需求

## 📱 前端页面结构与交互规则

### 1. 页面架构设计

#### 1.1 路由结构
```
/ (根路径)
├── /timeline          # 时间轴页面（默认首页）
├── /map              # 地图视图页面
├── /film-types       # 胶卷类型页面
├── /random           # 随机浏览页面
├── /photo/:id        # 照片详情页面
└── /admin/*          # 管理后台（需要登录）
    ├── /admin/dashboard     # 仪表板
    ├── /admin/photos        # 照片管理
    ├── /admin/film-stocks   # 胶卷品类管理
    ├── /admin/film-rolls    # 胶卷实例管理
    ├── /admin/cameras       # 相机管理
    └── /admin/scanners      # 扫描仪管理
```

#### 1.2 导航菜单结构
- **时间轴** - 按时间顺序展示照片，带时间线效果
- **地图** - 地图视图，显示照片地理位置分布
- **胶卷类型** - 按胶卷类型分类浏览照片
- **随机浏览** - 随机展示单张照片的页面
- **管理后台** - 管理后台入口

### 2. 交互规则设计

#### 2.1 照片展示交互
- **浮层展示**：在时间轴、地图、胶卷类型页面中，点击照片显示浮层
- **浮层内容**：照片大图 + 基本信息 + EXIF数据 + 设备信息
- **浮层操作**：关闭、分享、收藏等
- **不跳转页面**：保持用户在当前页面的浏览上下文

#### 2.2 随机浏览交互
- **单图展示**：每次只显示一张照片
- **换图功能**：提供"换一张"按钮，随机加载新照片
- **全屏体验**：照片占据页面主要空间，信息简洁展示

#### 2.3 返回导航规则
- **详情页返回**：返回到对应的浏览页面（时间轴/地图/胶卷类型）
- **保持状态**：返回后保持用户的筛选条件和浏览位置
- **面包屑导航**：显示当前位置和返回路径

### 3. 数据展示规范

#### 3.1 照片信息字段
```javascript
{
  id: "照片唯一标识",
  title: "照片标题",
  description: "照片描述",
  image: "图片路径",
  thumbnail: "缩略图路径",
  camera: "相机型号",
  film: "胶卷信息",
  date: "拍摄日期",
  time: "拍摄时间",
  location: "拍摄地点",
  coordinates: { lat: "纬度", lng: "经度" },
  rating: "评分(1-5)",
  exif: {
    aperture: "光圈值",
    shutter: "快门速度",
    iso: "ISO值",
    focal: "焦距"
  }
}
```

#### 3.2 胶卷类型信息字段
```javascript
{
  id: "胶卷类型ID",
  name: "胶卷名称",
  brand: "品牌",
  iso: "ISO值",
  type: "类型(彩色负片/黑白负片等)",
  format: "规格(135mm/120等)",
  photoCount: "照片数量",
  coverImage: "封面图片"
}
```

### 4. 图片处理规范

#### 4.1 图片路径规则
- **占位符图片**：`/placeholder-photo.svg` - 本地SVG占位符
- **实际图片**：`/api/uploads/thumbnails/{filename}` - 后端缩略图
- **高清图片**：`/api/uploads/photos/{filename}` - 后端原图

#### 4.2 图片尺寸规范
- **缩略图**：256px × 256px（正方形）
- **中等图**：1024px × 768px（4:3比例）
- **高清图**：2048px × 1536px（4:3比例）

#### 4.3 图片加载处理
- **懒加载**：图片进入视口时才开始加载
- **错误处理**：加载失败时显示占位符图片
- **加载状态**：显示加载动画和进度条

### 5. 响应式设计规范

#### 5.1 断点设置
- **手机端**：< 768px
- **平板端**：768px - 1024px
- **桌面端**：> 1024px

#### 5.2 布局适配
- **时间轴**：手机端垂直布局，桌面端左右布局
- **地图视图**：手机端上下布局，桌面端左右布局
- **胶卷类型**：手机端单列，平板端双列，桌面端三列
- **随机浏览**：所有设备都保持单图居中布局

## 🚀 创新功能模块

### 1. 胶片时光机
**功能描述**：为每张照片提供完整的"生命历程"展示
**核心价值**：
- 每张照片都有从购买到展示的完整故事
- 增加摄影的仪式感和纪念意义
- 用户可以"时光倒流"查看照片的完整历程

**功能特性**：
- 胶卷购买时间记录
- 胶卷启封时间和地点
- 拍摄设备、参数、环境记录
- 冲洗和扫描过程记录
- 后期处理和展示记录

**用户体验**：
- 时间轴式的历程展示
- 每个节点都有详细信息和时间戳
- 支持历程节点的展开和收起

### 2. 胶卷故事
**功能描述**：以胶卷为单位讲述完整的摄影故事
**核心价值**：
- 每卷胶卷都是一个完整的故事单元
- 从启封到完成的完整历程记录
- 照片按时间顺序讲述故事

**功能特性**：
- 胶卷级别的故事组织
- 拍摄主题和背景记录
- 拍摄过程中的心得和感受
- 胶卷完成后的总结和评价

**用户体验**：
- 故事化的内容展示
- 支持故事节点的展开和收起
- 个性化的故事标签和分类

### 3. 摄影日记
**功能描述**：记录完整的摄影历程和心得
**核心价值**：
- 每天/每次拍摄都有完整记录
- 形成个人的摄影成长轨迹
- 记录摄影过程中的思考和感悟

**功能特性**：
- 拍摄日期、地点、天气记录
- 使用的胶卷、相机、参数记录
- 拍摄心得、感受、想法记录
- 摄影技巧和经验的总结

**用户体验**：
- 日记式的记录界面
- 支持富文本编辑和图片插入
- 智能的日记组织和搜索

### 4. 智能推荐
**功能描述**：基于用户习惯和偏好推荐相关内容
**核心价值**：
- 个性化的内容推荐
- 提升用户发现新内容的机会
- 增加用户粘性和活跃度

**功能特性**：
- 基于拍摄习惯的胶卷推荐
- 基于历史数据的相机推荐
- 基于兴趣标签的内容推荐
- 基于时间模式的拍摄建议

**用户体验**：
- 智能的推荐算法
- 个性化的推荐界面
- 支持推荐反馈和调整

### 5. 社交分享
**功能描述**：分享摄影故事和心得，建立摄影社区
**核心价值**：
- 分享摄影作品和故事
- 建立摄影爱好者社区
- 促进摄影技巧和经验交流

**功能特性**：
- 作品分享和展示
- 故事分享和传播
- 评论和点赞功能
- 关注和粉丝系统

**用户体验**：
- 简洁的分享界面
- 丰富的社交功能
- 良好的社区氛围

## 📝 相关文档

- **[开发计划](./开发计划.md)** - 项目执行计划和时间线
- **[数据库设计](./数据库设计.md)** - 技术架构和数据模型
- **[项目文件整理指南](./项目文件整理指南.md)** - 项目结构和开发规范
- **[开发日志](./开发日志.md)** - 开发过程记录和问题追踪
- **[前端设计规范](./前端设计规范.md)** - 前端开发规范和设计标准

---

*本文档详细描述了业务需求、功能规格、界面要求等，为开发团队提供完整的指导。如有疑问或需要进一步细化，请联系产品负责人。*


