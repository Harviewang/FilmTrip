# FilmTrip 协作规则快速参考指南

## 🚀 快速开始

### 1. 直接开始（推荐）
```
用户: [描述需求]
```
AI会自动按.cursorrules规则响应

### 2. 可选检查（非必须）
```bash
./scripts/start-session.sh  # 检查规则配置
```

### 3. 标准开始模式
```
用户: [描述需求]
↓
@planner: 我来分析这个需求... [使用需求分析模板A]
↓
@architect: 从技术角度评估... [使用技术方案模板B] 
↓
@reviewer: 审查需求理解准确性...
↓
用户确认: [使用用户确认模板C]
```

---

## 📋 核心流程速查

### 6阶段标准流程
1. **需求分析** (@planner) → 用户确认
2. **方案设计** (@architect) → 用户确认  
3. **分工执行** (各Agent) → 自查报告
4. **交叉审查** (@reviewer) → 质量验证
5. **用户验收** (用户) → 满意度确认
6. **总结归档** (@documenter) → 知识沉淀

### 3个核心诉求对应
- **分工明确** → 9个Agent角色 + 职责边界
- **思考-确认-执行** → 6阶段流程 + 用户确认点
- **总结留痕** → 追踪系统 + 知识库

---

## 👥 Agent角色速查

| Agent | 职责 | 主要输出 | 边界 |
|-------|------|----------|------|
| @planner | 需求分析、任务分解 | 需求分析报告、任务清单 | 只规划不实现 |
| @architect | 技术方案、架构设计 | 技术方案、架构图 | 只设计不编码 |
| @backend | 后端开发、API实现 | 后端代码、API文档 | 只做服务端 |
| @frontend | 前端开发、UI实现 | 前端组件、样式文件 | 只做客户端 |
| @database | 数据建模、查询优化 | 数据库脚本、查询语句 | 只做数据层 |
| @tester | 测试验证、质量保证 | 测试用例、测试报告 | 只做测试 |
| @devops | 部署配置、环境管理 | 部署脚本、配置文件 | 只做运维 |
| @reviewer | 质量审查、流程监督 | 审查报告、改进建议 | 只审查不开发 |
| @documenter | 文档编写、知识管理 | 技术文档、总结报告 | 只做文档 |

---

## 📝 模板速查

### 阶段1: 需求分析
- **模板A**: 需求分析报告模板
- **模板B**: 技术方案设计模板
- **模板C**: 用户确认模板

### 阶段3: 分工执行  
- **模板D**: 任务分配模板
- **模板E**: Agent自查报告模板

### 阶段4: 交叉审查
- **模板F**: 质量审查模板

### 阶段5: 用户验收
- **模板G**: 用户验收模板

### 阶段6: 总结归档
- **模板H**: 项目总结模板

---

## ✅ 检查清单速查

### Agent自查清单
- @planner: 需求分析自查清单 (5大类25项)
- @architect: 技术方案自查清单 (5大类25项)
- @backend: 后端开发自查清单 (6大类30项)
- @frontend: 前端开发自查清单 (6大类30项)
- @database: 数据库自查清单 (5大类25项)
- @tester: 测试验证自查清单 (6大类30项)

### 交叉审查清单
- @reviewer: 综合质量审查清单 (6大类30项)

### 用户确认清单
- 需求确认清单 (3大类15项)
- 功能验收确认清单 (5大类25项)
- 最终交付确认清单 (4大类20项)

---

## 🚨 质量预警速查

### 预警级别
- **红色预警**: 通过率<80% → 立即停止
- **黄色预警**: 通过率<90% → 需要关注  
- **绿色提醒**: 通过率<95% → 持续改进

### 核心指标
- 需求理解准确率: ≥95%
- 代码质量评分: ≥9分
- 测试覆盖率: ≥95%
- 用户满意度: ≥95%

---

## 📊 追踪记录速查

### 3层追踪体系
1. **实时追踪**: 开发过程记录 (表单A)
2. **阶段总结**: 每阶段经验总结 (表单B)  
3. **项目归档**: 完整知识沉淀 (表单C)

### 记录频率
- 实时记录: 每30分钟更新
- 阶段总结: 每阶段结束时
- 项目归档: 项目完成时

---

## 🔧 常用命令速查

### 创建记录文件
```bash
# 实时追踪记录
cp docs/开发追踪系统.md logs/tracking-$(date +%Y%m%d-%H%M).md

# 阶段总结记录
cp docs/开发追踪系统.md logs/phase-summary-需求分析-$(date +%Y%m%d).md

# 自查报告
cp docs/质量检查清单.md logs/self-check-backend-$(date +%Y%m%d).md

# 用户确认记录
cp docs/质量检查清单.md logs/user-confirm-$(date +%Y%m%d).md
```

### 规则合规性检查
```bash
# 运行合规性检查
node scripts/check-rules-compliance.js

# 启动标准会话
./scripts/start-session.sh
```

---

## ❌ 常见错误速查

### 错误的开始方式
```
❌ 用户: 帮我修复bug
   AI: 好的，我直接修改...

✅ 用户: 帮我修复bug  
   @planner: 我来分析这个bug的具体情况...
   [使用需求分析模板A进行深度分析]
```

### 错误的执行方式
```
❌ 单一Agent处理复杂任务
❌ 跳过用户确认环节
❌ 没有自查报告
❌ 跳过质量审查
❌ 没有总结记录

✅ 多Agent协作分工
✅ 关键节点用户确认
✅ 每个Agent自查
✅ @reviewer交叉审查
✅ @documenter总结归档
```

---

## 📚 文档位置速查

### 核心规则文档
- `.cursorrules` - 主要协作规则
- `docs/标准工作流程模板.md` - 流程模板
- `docs/质量检查清单.md` - 检查清单
- `docs/开发追踪系统.md` - 追踪记录

### 脚本工具
- `scripts/start-session.sh` - 会话启动脚本
- `scripts/check-rules-compliance.js` - 规则检查脚本

### 记录目录
- `logs/` - 所有追踪记录和自查报告
- `docs/knowledge-base/` - 项目知识库

---

## 🎯 成功标准速查

### 过程质量
- 需求理解准确率: ≥95%
- 设计方案通过率: ≥90%  
- 一次审查通过率: ≥80%
- 用户确认通过率: ≥95%

### 产品质量
- 功能完整性: 100%
- 代码质量评分: ≥9分
- 性能指标达成: ≥95%
- 测试通过率: ≥95%

### 用户满意度
- 需求满足度: ≥95%
- 体验满意度: ≥90%
- 交付及时性: ≥90%
- 整体满意度: ≥95%

---

## 💡 最佳实践速查

### 会话开始
1. 运行 `./scripts/start-session.sh`
2. @planner 使用模板A分析需求
3. @architect 使用模板B设计方案
4. 用户使用模板C确认

### 任务执行
1. 使用模板D分配任务
2. 各Agent使用对应自查清单
3. @reviewer 使用模板F审查
4. 用户使用模板G验收

### 项目结束
1. @documenter 使用模板H总结
2. 更新项目知识库
3. 归档所有记录文档
4. 分析改进机会

---

**⚠️ 重要提醒**: 
- 这是快速参考，详细内容请查看对应的完整文档
- 所有规则都是强制性的，不可随意省略
- 遇到问题时优先查看完整文档和检查清单
- 持续改进是成功的关键，请积极反馈和优化
