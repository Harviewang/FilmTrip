# FilmTrip é¡¹ç›®æ–‡ä»¶æ•´ç†æŒ‡å—

## é¡¹ç›®æ¦‚è¿°

FilmTripæ˜¯ä¸€ä¸ªä¸“ä¸šçš„èƒ¶ç‰‡æ‘„å½±ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨ä¸‰å±‚æ¸…æ™°ç»“æ„è®¾è®¡ï¼Œé¿å…å±‚çº§è¿‡æ·±ï¼Œä¿æŒé€»è¾‘ç®€å•ã€‚

> ğŸ“– **ç›¸å…³æ–‡æ¡£**ï¼š[éœ€æ±‚æ–‡æ¡£](./éœ€æ±‚æ–‡æ¡£-ç»Ÿä¸€ç‰ˆ.md) | [æ•°æ®åº“è®¾è®¡](./æ•°æ®åº“è®¾è®¡.md) | [å¼€å‘è®¡åˆ’](./å¼€å‘è®¡åˆ’.md)

## æ ¸å¿ƒè®¾è®¡ç†å¿µ

> ğŸ’¡ **è¯¦ç»†è®¾è®¡è¯´æ˜**è¯·å‚è€ƒï¼š[éœ€æ±‚æ–‡æ¡£](./éœ€æ±‚æ–‡æ¡£-ç»Ÿä¸€ç‰ˆ.md) å’Œ [æ•°æ®åº“è®¾è®¡](./æ•°æ®åº“è®¾è®¡.md)

### 1. ä¸‰å±‚æ¸…æ™°ç»“æ„
- **èƒ¶å·å“ç±» (Film Stock)** â†’ **èƒ¶å·å®ä¾‹ (Film Roll)** â†’ **ç…§ç‰‡ (Photo)**
- é¿å…å±‚çº§è¿‡æ·±ï¼Œä¿æŒé€»è¾‘ç®€å•
- æ¯å±‚èŒè´£æ˜ç¡®ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤

### 2. ç»§æ‰¿å…³ç³»
- ç…§ç‰‡ç»§æ‰¿èƒ¶å·å®ä¾‹çš„æ‰€æœ‰å±æ€§
- èƒ¶å·å®ä¾‹ç»§æ‰¿èƒ¶å·å“ç±»çš„æ‰€æœ‰å±æ€§
- å‡å°‘æ•°æ®å†—ä½™ï¼Œæé«˜æ•°æ®å®Œæ•´æ€§

### 3. å®é™…ä¸šåŠ¡å¯¼å‘
- ä¸€å·èƒ¶å·å¤©ç„¶å°±æ˜¯ä¸€ä¸ªç…§ç‰‡é›†åˆ
- ä¸éœ€è¦é¢å¤–çš„ç›¸å†Œæ¦‚å¿µ
- ç¬¦åˆèƒ¶ç‰‡æ‘„å½±çš„å®é™…å·¥ä½œæµç¨‹

## ç›®å½•ç»“æ„

```
FilmTrip/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ controllers/        # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ filmStockController.js    # èƒ¶å·å“ç±»ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ filmRollController.js     # èƒ¶å·å®ä¾‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ photoController.js        # ç…§ç‰‡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ cameraController.js       # ç›¸æœºç®¡ç†
â”‚   â”‚   â”œâ”€â”€ scannerController.js      # æ‰«æä»ªç®¡ç†
â”‚   â”‚   â”œâ”€â”€ userController.js         # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â””â”€â”€ statsController.js        # ç»Ÿè®¡åŠŸèƒ½
â”‚   â”œâ”€â”€ models/            # æ•°æ®æ¨¡å‹å±‚
â”‚   â”‚   â”œâ”€â”€ db.js          # æ•°æ®åº“è¿æ¥å’Œåˆå§‹åŒ–
â”‚   â”‚   â””â”€â”€ migrations/    # æ•°æ®åº“è¿ç§»è„šæœ¬
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±å±‚
â”‚   â”‚   â”œâ”€â”€ filmStocks.js  # èƒ¶å·å“ç±»è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ filmRolls.js   # èƒ¶å·å®ä¾‹è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ photos.js      # ç…§ç‰‡è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ cameras.js     # ç›¸æœºè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ scanners.js    # æ‰«æä»ªè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ users.js       # ç”¨æˆ·è·¯ç”±
â”‚   â”‚   â””â”€â”€ stats.js       # ç»Ÿè®¡è·¯ç”±
â”‚   â”œâ”€â”€ middleware/        # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ auth.js        # è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ adminAuth.js   # ç®¡ç†å‘˜æƒé™ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ errorHandler.js # é”™è¯¯å¤„ç†ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ utils/             # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ exif.js        # EXIFæ•°æ®æå–
â”‚   â”‚   â”œâ”€â”€ imageProcessor.js # å›¾ç‰‡å¤„ç†
â”‚   â”‚   â””â”€â”€ upyun.js       # äº‘å­˜å‚¨é›†æˆ
â”‚   â”œâ”€â”€ uploads/           # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”‚   â”‚   â””â”€â”€ thumbnails/    # ç¼©ç•¥å›¾å­˜å‚¨
â”‚   â”œâ”€â”€ data/              # æ•°æ®åº“æ–‡ä»¶
â”‚   â”œâ”€â”€ index.js           # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json       # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ .env               # ç¯å¢ƒå˜é‡
â”œâ”€â”€ frontend/              # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ views/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/     # ç®¡ç†é¡µé¢
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx           # ä»ªè¡¨æ¿
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FilmStockManagement.jsx # èƒ¶å·å“ç±»ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FilmRollManagement.jsx  # èƒ¶å·å®ä¾‹ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PhotoManagement.jsx     # ç…§ç‰‡ç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CameraManagement.jsx    # ç›¸æœºç®¡ç†
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ScannerManagement.jsx   # æ‰«æä»ªç®¡ç†
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserManagement.jsx      # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx  # ç™»å½•é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ NotFound.jsx # 404é¡µé¢
â”‚   â”‚   â”œâ”€â”€ services/      # APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ store/         # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ App.jsx        # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ public/            # é™æ€èµ„æº
â”‚   â”œâ”€â”€ package.json       # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ vite.config.js     # Viteé…ç½®
â”œâ”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md          # æ–‡æ¡£ç´¢å¼•
â”‚   â”œâ”€â”€ éœ€æ±‚æ–‡æ¡£-ç»Ÿä¸€ç‰ˆ.md  # äº§å“éœ€æ±‚è§„æ ¼
â”‚   â”œâ”€â”€ å¼€å‘è®¡åˆ’.md        # é¡¹ç›®æ‰§è¡Œè®¡åˆ’
â”‚   â”œâ”€â”€ æ•°æ®åº“è®¾è®¡.md      # æ•°æ®åº“è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ é¡¹ç›®æ–‡ä»¶æ•´ç†æŒ‡å—.md # æœ¬æ–‡æ¡£
â”‚   â”œâ”€â”€ å¼€å‘æ—¥å¿—.md        # å¼€å‘è¿‡ç¨‹è®°å½•
â”‚   â”œâ”€â”€ BACKUP.md          # å¤‡ä»½æ“ä½œæŒ‡å—
â”‚   â””â”€â”€ STORAGE_NAMING.md  # å­˜å‚¨å‘½åè§„èŒƒ
â”œâ”€â”€ scripts/               # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ start-smart.sh     # æ™ºèƒ½å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ stop-services.sh   # æœåŠ¡åœæ­¢è„šæœ¬
â”‚   â””â”€â”€ backup/            # å¤‡ä»½è„šæœ¬
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

## æ•°æ®åº“è¡¨ç»“æ„

> ğŸ—„ï¸ **è¯¦ç»†æ•°æ®åº“è®¾è®¡**è¯·å‚è€ƒï¼š[æ•°æ®åº“è®¾è®¡æ–‡æ¡£](./æ•°æ®åº“è®¾è®¡.md)

### 1. èƒ¶å·å“ç±»è¡¨ (film_stocks)
- å­˜å‚¨æ‰€æœ‰èƒ¶å·çš„åŸºç¡€ä¿¡æ¯
- å­—æ®µï¼šid, brand, series, iso, format, type, description, created_at, updated_at

### 2. èƒ¶å·å®ä¾‹è¡¨ (film_rolls)
- å­˜å‚¨å…·ä½“çš„ä¸€å·èƒ¶å·
- ç»§æ‰¿èƒ¶å·å“ç±»å±æ€§ï¼Œæ·»åŠ å®ä¾‹ç‰¹æœ‰å±æ€§
- å­—æ®µï¼šid, film_stock_id, roll_number, name, opened_date, location, camera_id, developed_date, developer, development_method, scanner_id, is_encrypted, status, notes, created_at, updated_at

### 3. ç…§ç‰‡è¡¨ (photos)
- å­˜å‚¨å…·ä½“ç…§ç‰‡
- ç»§æ‰¿èƒ¶å·å®ä¾‹çš„æ‰€æœ‰å±æ€§ï¼Œæ·»åŠ ç…§ç‰‡ç‰¹æœ‰å±æ€§
- å­—æ®µï¼šid, film_roll_id, photo_number, filename, original_name, title, description, taken_date, camera_id, aperture, shutter_speed, focal_length, iso, latitude, longitude, location_name, rating, is_encrypted, tags, uploaded_at, updated_at

### 4. ç›¸æœºè¡¨ (cameras)
- å­˜å‚¨ç›¸æœºè®¾å¤‡ä¿¡æ¯
- å­—æ®µï¼šid, name, model, brand, type, format, description, created_at, updated_at

### 5. æ‰«æä»ªè¡¨ (scanners)
- å­˜å‚¨æ‰«æä»ªè®¾å¤‡ä¿¡æ¯
- å­—æ®µï¼šid, name, model, type, description, created_at, updated_at

### 6. ç”¨æˆ·è¡¨ (users)
- å­˜å‚¨ç”¨æˆ·è´¦æˆ·ä¿¡æ¯
- å­—æ®µï¼šid, username, password, created_at, updated_at

## æ–‡ä»¶å‘½åè§„èŒƒ

### 1. åç«¯æ–‡ä»¶
- æ§åˆ¶å™¨ï¼š`[å®ä½“å]Controller.js` (å¦‚ï¼š`filmStockController.js`)
- è·¯ç”±ï¼š`[å®ä½“å].js` (å¦‚ï¼š`filmStocks.js`)
- æ¨¡å‹ï¼š`[å®ä½“å].js` (å¦‚ï¼š`filmStock.js`)

### 2. å‰ç«¯æ–‡ä»¶
- é¡µé¢ç»„ä»¶ï¼š`[åŠŸèƒ½å]Management.jsx` (å¦‚ï¼š`FilmStockManagement.jsx`)
- é€šç”¨ç»„ä»¶ï¼š`[ç»„ä»¶å].jsx` (å¦‚ï¼š`PhotoCard.jsx`)
- æœåŠ¡æ–‡ä»¶ï¼š`[åŠŸèƒ½å]Api.js` (å¦‚ï¼š`filmStockApi.js`)

### 3. æ–‡æ¡£æ–‡ä»¶
- ä½¿ç”¨ä¸­æ–‡å‘½åï¼Œä¾¿äºç†è§£
- æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»
- ä¿æŒæ–‡æ¡£ç»“æ„æ¸…æ™°

## å¼€å‘è§„èŒƒ

### 1. ä»£ç ç»„ç»‡
- æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç 
- ä¿æŒæ–‡ä»¶ç»“æ„æ¸…æ™°
- é¿å…å¾ªç¯ä¾èµ–

### 2. å‘½åè§„èŒƒ
- ä½¿ç”¨æœ‰æ„ä¹‰çš„åç§°
- ä¿æŒå‘½åé£æ ¼ä¸€è‡´
- é¿å…ç¼©å†™å’Œç®€å†™

### 3. æ–‡æ¡£ç»´æŠ¤
- åŠæ—¶æ›´æ–°å¼€å‘æ—¥å¿—
- ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥
- è®°å½•é‡è¦çš„è®¾è®¡å†³ç­–

## éƒ¨ç½²è¯´æ˜

### 1. ç¯å¢ƒè¦æ±‚
- Node.js 18+
- SQLite 3
- æ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿ

### 2. å¯åŠ¨æ­¥éª¤
1. å®‰è£…ä¾èµ–ï¼š`npm install`
2. é…ç½®ç¯å¢ƒå˜é‡ï¼šå¤åˆ¶ `.env.example` åˆ° `.env`
3. å¯åŠ¨æœåŠ¡ï¼š`./start-smart.sh`

### 3. è®¿é—®åœ°å€
- å‰ç«¯ï¼šhttp://localhost:3000
- ç®¡ç†åå°ï¼šhttp://localhost:3002
- åç«¯ï¼šhttp://localhost:3001

## ç»´æŠ¤è¯´æ˜

### 1. æ—¥å¸¸ç»´æŠ¤
- å®šæœŸæ£€æŸ¥æ—¥å¿—æ–‡ä»¶
- ç›‘æ§æœåŠ¡çŠ¶æ€
- å¤‡ä»½é‡è¦æ•°æ®

### 2. æ•…éšœæ’é™¤
- æŸ¥çœ‹å¼€å‘æ—¥å¿—
- æ£€æŸ¥æœåŠ¡çŠ¶æ€
- ä½¿ç”¨æ™ºèƒ½å¯åŠ¨è„šæœ¬

### 3. ç‰ˆæœ¬ç®¡ç†
- è®°å½•é‡è¦å˜æ›´
- ä¿æŒæ–‡æ¡£åŒæ­¥
- å®šæœŸä»£ç å®¡æŸ¥

## ç›¸å…³æ–‡æ¡£

- **[éœ€æ±‚æ–‡æ¡£](./éœ€æ±‚æ–‡æ¡£-ç»Ÿä¸€ç‰ˆ.md)** - äº§å“éœ€æ±‚è§„æ ¼è¯´æ˜ä¹¦
- **[å¼€å‘è®¡åˆ’](./å¼€å‘è®¡åˆ’.md)** - é¡¹ç›®æ‰§è¡Œè®¡åˆ’å’Œæ—¶é—´çº¿
- **[æ•°æ®åº“è®¾è®¡](./æ•°æ®åº“è®¾è®¡.md)** - æŠ€æœ¯æ¶æ„å’Œæ•°æ®æ¨¡å‹
- **[å¼€å‘æ—¥å¿—](./å¼€å‘æ—¥å¿—.md)** - å¼€å‘è¿‡ç¨‹è®°å½•å’Œé—®é¢˜è¿½è¸ª

---

*æœ¬æ–‡æ¡£ä¸“æ³¨äºé¡¹ç›®ç»“æ„å’Œæ–‡ä»¶ç»„ç»‡ï¼Œä¸šåŠ¡éœ€æ±‚è¯·å‚è€ƒéœ€æ±‚æ–‡æ¡£ï¼ŒæŠ€æœ¯è®¾è®¡è¯·å‚è€ƒæ•°æ®åº“è®¾è®¡æ–‡æ¡£*
 
