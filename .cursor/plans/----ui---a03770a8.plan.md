<!-- a03770a8-2d71-4ab0-b7bf-fadc72d17758 591510a4-5278-4495-b807-1a178ec8c915 -->
# 恢复上午 windsurf 的 UI 改动

## 背景

上午 windsurf 完成的预览界面优化被 cursor 覆盖，需要根据 `docs/work-plans/2025-10-25/cursor-recovery.md` 恢复所有改动。

## 需要修改的文件

### 1. frontend/src/components/PhotoPreview.jsx

**背景样式改动：**

- 将顶层容器的背景改为静态低饱和度渐变：
  ```jsx
  background: 'linear-gradient(135deg, #e8f0f7 0%, #dce7f2 25%, #d0deec 50%, #c4d5e6 75%, #d0deec 100%)'
  ```

- 过渡只保留 `opacity 600ms cubic-bezier(0.4, 0, 0.2, 1)`
- 移除所有 `scale`、`translate-y-8` 等变换

**动画时长调整：**

- 列表→预览淡入时间改为 **400ms**（当前可能是其他值）
- 图片加载完成的 opacity 过渡：`transition: 'opacity 400ms cubic-bezier(0.4, 0, 0.2, 1)'`

**预览模式切换优化：**

- 删除图片的 `transform`、`scale`、`translateY` 相关样式
- 工具栏/信息面板使用 **500ms** 过渡，加上 `pointer-events-none`
- 工具栏隐藏时：`opacity-0 -translate-y-4 pointer-events-none`
- 信息面板隐藏时：`opacity-0 translate-y-8 pointer-events-none`
- 导航按钮隐藏时：`opacity-0 translate-x-8 pointer-events-none`

**图片样式改动：**

- 使用 `maxWidth/maxHeight + auto` 替代固定 `width/height`：
  ```jsx
  maxWidth: `${imageWidth}px`,
  maxHeight: `${imageHeight}px`,
  width: 'auto',
  height: 'auto',
  objectFit: 'contain'
  ```

- 标准模式的圆角改为 **16px**（当前是 8px）
- 标准模式的阴影改为四层叠加：
  ```jsx
  boxShadow: '0 32px 64px -12px rgba(0, 0, 0, 0.25), 0 20px 48px -8px rgba(0, 0, 0, 0.18), 0 12px 24px -4px rgba(0, 0, 0, 0.12), 0 0 0 1px rgba(0, 0, 0, 0.05)'
  ```


### 2. frontend/src/index.css

**保留内容：**

- `@keyframes gradientShift`
- CSS 变量：`--ease-smooth`、`--ease-in-smooth`、`--ease-out-smooth`
- `.gpu-accelerated` 工具类

**删除内容：**

- 所有 `@keyframes float1/float2/float3` 几何浮动动画

### 3. docs/work-plans/2025-10-24/summary.md

**更新任务状态：**

- P1-3 状态改为 "进行中"
- 备注添加：今日完成列表→预览动效加速、模式切换平滑化与静态背景优化；比例与设计复核待 Codex 确认

**添加风险提示：**

- 在"遗留事项/风险"中新增：预览视觉调整尚未经过 Codex/设计复核，需确认比例（80%/90%）与最终配色方案

## 验证步骤

1. 打开本地预览 http://localhost:3002
2. 检查列表→预览淡入时间 < 500ms
3. 切换标准/沉浸模式，确认图片不抖动、不移动
4. 确认背景为静态低饱和度蓝灰渐变
5. 确认圆角 16px、四层阴影效果